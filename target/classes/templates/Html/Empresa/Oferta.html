<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../Imagenes/wknlogo2.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="../Css/empresa/crear-oferta.css">
    <link rel="stylesheet" href="/Css/general/bootstrap.min.css">
    <link rel="stylesheet" href="/Css/general/Grid-and-List-view-V10-style.css">
    <link rel="stylesheet" href="/Css/general/Grid-and-List-view-V10.css">
    <link rel="stylesheet" href="/Css/general/Nunito.css">
    <link rel="stylesheet" href="/Css/general/styles.min.css">
    <link rel="stylesheet" href="/Css/general/oferta.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <title>Crear Oferta de Trabajo</title>
</head>

<body>
    <nav class="navbar align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 navbar-dark">
        <div class="container-fluid d-flex flex-column p-0">
            <a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0"
                th:href="@{/empresas/pagina_principal}">
                <img src="/Imagenes/wwk_white.png" width="61" height="58" style="width: 50px;height: 50px;">
                <div class="sidebar-brand-icon rotate-n-15"></div>
                <div class="sidebar-brand-text mx-3">
                    <span data-trad="sidebar.workwise">Workwise</span>
                </div>
            </a>
            <span style="font-size: 15px; text-align: center; color: white;" data-trad="sidebar.soloEmpresas">Solo
                empresas</span>
            <hr class="sidebar-divider my-0">
            <ul class="navbar-nav text-light" id="accordionSidebar">
                <li class="nav-item">
                    <a class="nav-link active" th:href="@{/empresas/pagina_principal}">
                        <i class="fas fa-home"></i>
                        <span data-trad="sidebar.inicio">Inicio</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/perfil/empresa}">
                        <i class="far fa-user-circle"></i>
                        <span data-trad="sidebar.perfil">Perfil</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/empresas/oferta}">
                        <i class="fas fa-plus-circle"></i>
                        <span data-trad="sidebar.crearOferta">Crear oferta</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/empresas/published-offers}">
                        <i class="fas fa-check-circle"></i>
                        <span data-trad="sidebar.ofertasPublicadas">Ofertas publicadas</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/Estadisticas/empresas}">
                        <i class="fas fa-chart-bar"></i>
                        <span data-trad="sidebar.estadisticas">Estadísticas</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/login/personas}">
                        <i class="fas fa-user"></i>
                        <span data-trad="sidebar.quieresPostularte">¿Quieres postularte a ofertas?</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="d-flex flex-column main" id="content-wrapper">
        <div class="content">
            <div class="form-container">
                <div class="title">
                    <h2 data-trad="jobPost.announceJob">Anuncia Tu Empleo</h2>
                </div>


                <form id="jobOfferForm" action="/guardarOferta" method="POST">
                    <div class="container-step">
                        <div class="step-indicator">
                            <div class="step-line"></div>

                            <div class="step-dot active" data-step="0">1</div>
                            <div class="step-dot" data-step="1">2</div>
                            <div class="step-dot" data-step="2">3</div>

                            <h6 class="step-text">Datos Generales</h6>
                            <h6 class="step-text">Descripción</h6>
                            <h6 class="step-text">Requerimientos</h6>
                        </div>
                    </div>
                    <div class="form-steps">
                        <!-- pagina 1 -->
                        <div class="step">
                            <!-- titulo -->
                            <div class="mb-3">
                                <input type="text" class="form-control form-control-user" name="titulo_puesto"
                                    placeholder="" required>
                                <label for="jobTitle" class="label">Título del Puesto</label>
                            </div>

                            <!-- moneda de pago y periodo de pago-->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="currency" name="moneda" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.currency.placeholder">Moneda de
                                                pago</option>
                                            <option value="COP">COP</option>
                                            <option value="USD">USD</option>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="period" name="periodo" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.period.placeholder">Periodo de
                                                pago</option>
                                            <option value="Diario" data-trad="offer.period.daily">Diario</option>
                                            <option value="Semanal" data-trad="offer.period.weekly">Semanal</option>
                                            <option value="Mensual" data-trad="offer.period.monthly">Mensual</option>
                                            <option value="Anual" data-trad="offer.period.annual">Anual</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- modalidad de trabajo y tipo de contratato -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobMode" name="modalidad" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.jobmode.placeholder">Modalidad de
                                                trabajo</option>
                                            <option value="Presencial" data-trad="offer.jobmode.presencial">Presencial
                                            </option>
                                            <option value="Remoto" data-trad="offer.jobmode.remoto">Remoto</option>
                                            <option value="Híbrido" data-trad="offer.jobmode.hibrido">Híbrido</option>

                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="contractType" name="tipo_contrato" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.contract.placeholder">Tipo de contrato</option>
                                            <option value="Obra_Labor" data-trad="offer.contract.obralabor">Obra labor</option>
                                            <option value="Fijo" data-trad="offer.contract.fijo">Fijo</option>
                                            <option value="Indefinido" data-trad="offer.contract.indefinido">Indefinido</option>
                                            <option value="Practicas" data-trad="offer.contract.practicas">Prácticas</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Duraciion del contrato y tipo de empleo -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobDuration" name="duracion" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.duration.placeholder">Duración
                                                del contrato</option>
                                            <option value="1 mes" data-trad="offer.duration.1m">1 Mes</option>
                                            <option value="3 meses" data-trad="offer.duration.3m">3 Meses</option>
                                            <option value="6 meses" data-trad="offer.duration.6m">6 Meses</option>
                                            <option value="1 año" data-trad="offer.duration.1y">1 Año</option>
                                            <option value="Indefinido" data-trad="offer.duration.indefinido">Indefinido
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobType" name="tipo_empleo" class="form-control" required>
                                            <option disabled selected hidden data-trad="offer.type.placeholder">Tipo de empleo
                                            </option>
                                            <option value="Tiempo_Completo" data-trad="offer.type.fulltime">Tiempo
                                                Completo</option>
                                            <option value="Medio_Tiempo" data-trad="offer.type.parttime">Medio Tiempo
                                            </option>
                                            <option value="Por_Horas" data-trad="offer.type.hourly">Por Horas</option>
                                            <option value="Freelance" data-trad="offer.type.freelance">Freelance
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="btn-container">
                                <div>
                                    <button type="button" class="btn-cancel" onclick="cancelarOferta()"
                                        data-trad="offer.button.cancel">Cancelar</button>
                                </div>
                                <div>
                                    <button type="button" class="btn-next btn-primary" onclick="nextStep()"
                                        data-trad="offer.button.next">Siguiente</button>
                                </div>
                            </div>
                        </div>

                        <!-- pagina 2 -->
                        <div class="step">
                            <div class="input-group">
                                <label for="jobDescription">
                                    <h3 data-trad="offer.label.description">Descripción</h3>
                                </label>

                                <div class="custom-editor">
                                    <textarea id="jobDescription" class="editor-area" name="descripcion" data-trad="offer.editor.placeholder" placeholder="Consejos: Haz un resumen del puesto, explica qué se necesita para triunfar en él y el lugar que ocupa en la empresa." required></textarea>
                                </div>
                            </div>

                            <div class="btn-container">
                                <div class="btn-containerVista">
                                    <button class="btnVista" type="button" onclick="llenarVistaPrevia()" data-trad="offer.buttons.preview">Vista previa</button>
                                </div>
                                <div class="btn-containerSelectores">
                                    <button type="button" class="btn-prev btn-secondary" onclick="prevStep()" data-trad="offer.buttons.previous">Anterior</button>
                                    <button type="button" class="btn-next btn-primary" onclick="nextStep()" data-trad="offer.buttons.next">Siguiente</button>
                                </div>
                            </div>
                        </div>

                        <!-- pagina 3 -->
                        <div class="step">
                            <!-- Años de experiencia y estudio -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="experiencia" name="experiencia" class="form-control" required>
                                            <option value="" disabled selected hidden data-trad="offer.experience.placeholder">Años de experiencia</option>
                                            <option value=0 data-trad="offer.experience.none">Sin experiencia</option>
                                            <option value=1 data-trad="offer.experience.less_than_1">Menos de 1 año</option>
                                            <option value=2 data-trad="offer.experience.between_1_3">Entre 1 y 3 años</option>
                                            <option value=3 data-trad="offer.experience.between_3_5">Entre 3 y 5 años</option>
                                            <option value=4 data-trad="offer.experience.between_5_10">Entre 5 y 10 años</option>
                                            <option value=5 data-trad="offer.experience.more_than_10">Más de 10 años</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="Sector" name="sector_oferta" class="select2-elegante" required>
                                            <option value="" disabled selected hidden data-trad="offer.sector.placeholder">Sector empresarial</option>
                                            <option value="Aeroespacial" data-trad="offer.sector.aeroespacial">Aeroespacial</option>
                                            <option value="Agricultura" data-trad="offer.sector.agricultura">Agricultura</option>
                                            <option value="Agroindustria" data-trad="offer.sector.agroindustria">Agroindustria</option>
                                            <option value="Ambiental" data-trad="offer.sector.ambiental">Medio ambiente</option>
                                            <option value="ArtesCreativas" data-trad="offer.sector.artes_creativas">Artes creativas</option>
                                            <option value="Automotriz" data-trad="offer.sector.automotriz">Automotriz</option>
                                            <option value="BienesRaices" data-trad="offer.sector.bienes_raices">Bienes raíces</option>
                                            <option value="Biotecnologia" data-trad="offer.sector.biotecnologia">Biotecnología</option>
                                            <option value="Comercio" data-trad="offer.sector.comercio">Comercio</option>
                                            <option value="Construccion" data-trad="offer.sector.construccion">Construcción</option>
                                            <option value="Consultoria" data-trad="offer.sector.consultoria">Consultoría</option>
                                            <option value="Deportes" data-trad="offer.sector.deportes">Deportes y recreación</option>
                                            <option value="Diseño" data-trad="offer.sector.diseno">Diseño</option>
                                            <option value="Educacion" data-trad="offer.sector.educacion">Educación</option>
                                            <option value="Energia" data-trad="offer.sector.energia">Energía</option>
                                            <option value="Finanzas" data-trad="offer.sector.finanzas">Finanzas</option>
                                            <option value="Gobierno" data-trad="offer.sector.gobierno">Gobierno</option>
                                            <option value="Investigacion" data-trad="offer.sector.investigacion">Investigación</option>
                                            <option value="Legal" data-trad="offer.sector.legal">Legal</option>
                                            <option value="Logistica" data-trad="offer.sector.logistica">Logística</option>
                                            <option value="Manufactura" data-trad="offer.sector.manufactura">Manufactura</option>
                                            <option value="Marketing" data-trad="offer.sector.marketing">Marketing</option>
                                            <option value="Medios" data-trad="offer.sector.medios">Medios de comunicación</option>
                                            <option value="Mineria" data-trad="offer.sector.mineria">Minería</option>
                                            <option value="Naval" data-trad="offer.sector.naval">Naval</option>
                                            <option value="Quimica" data-trad="offer.sector.quimica">Química y farmacéutica</option>
                                            <option value="RRHH" data-trad="offer.sector.rrhh">Recursos humanos</option>
                                            <option value="Salud" data-trad="offer.sector.salud">Salud</option>
                                            <option value="Seguros" data-trad="offer.sector.seguros">Seguros</option>
                                            <option value="Servicios" data-trad="offer.sector.servicios">Servicios</option>
                                            <option value="Social" data-trad="offer.sector.social">Trabajo social</option>
                                            <option value="Tecnologia" data-trad="offer.sector.tecnologia">Tecnología</option>
                                            <option value="Textil" data-trad="offer.sector.textil">Textil y confección</option>
                                            <option value="Transporte" data-trad="offer.sector.transporte">Transporte</option>
                                            <option value="Turismo" data-trad="offer.sector.turismo">Turismo</option>
                                        </select>
                                        
                                    </div>
                                </div>
                            </div>

                            <!-- salario y sector empresarial -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input type="number" id="jobSalary" class="form-control form-control-user"
                                            name="salario" placeholder="" required>
                                        <label for="jobSalary" class="label" data-trad="offer.salary">Salario</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="nivel-estudio" name="nivel_educativo" class="form-control" required>
                                            <option value="" disabled selected hidden data-trad="offer.educationLevel.placeholder">Nivel de estudio</option>
                                            <option value="Sin_estudios" data-trad="offer.educationLevel.none">Sin estudios</option>
                                            <option value="Bachiller" data-trad="offer.educationLevel.highschool">Bachiller</option>
                                            <option value="Tecnico_Tecnologo" data-trad="offer.educationLevel.technical">Técnico/Tecnólogo</option>
                                            <option value="Tecnologo_Universitario" data-trad="offer.educationLevel.universityTech">Tecnólogo o Universitario</option>
                                            <option value="Universitario" data-trad="offer.educationLevel.university">Universitario</option>
                                            <option value="Master" data-trad="offer.educationLevel.master">Master</option>
                                            <option value="Doctorado" data-trad="offer.educationLevel.doctorate">Doctorado</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="btn-container">
                                <div class="btn-containerVista">
                                    <button type="button" class="btnVista" onclick="llenarVistaPrevia()" data-trad="offer.previewButton">Vista previa</button>
                                </div>
                                <div class="btn-containerSelectores">
                                    <button type="button" class="btn-prev btn-secondary" onclick="prevStep()" data-trad="offer.prevButton">Anterior</button>
                                    <button type="submit" class="btn-submit" data-trad="offer.publishButton">Publicar Oferta</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div id="modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-header-info">
                        <h3 id="modal-title"></h3>
                        <div class="modal-info-item" id="modal-empresa" style="padding: 0%;"></div>
                    </div>
                    <span onclick="cerrarModal()" class="close-btn" id="close-btn">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="pago">
                        <div class="modal-info-item" id="modal-salary" style="display: flex; margin-right: 5px;"> </div>
                        <div id="modal-currency" style="margin-left: 1px; ;"></div>
                        <div class="modal-info-item" id="modal-period"></div>
                    </div>
                    <div class="time-contract">
                        <div class="modal-info-item" id="modal-typeContract"></div>
                        <div class="modal-info-item" id="modal-duration" style="margin-left: 3px;"></div>
                    </div>

                    <div class="modal-info-item" id="modal-type"></div>

                    <div class="modal-info-item" id="modal-modalidad"></div>

                    <div class="contenedorDescripcion">
                        <h4>Descripción</h4>
                        <p id="modal-description"></p>
                    </div>

                    <div class="Requerimientos">
                        <h4 data-trad="offer.requirements">Requerimientos</h4>
                        <ul>
                            <li>
                                <div class="modal-info-item" id="modal-experience"></div>
                            </li>
                            <li>
                                <div class="modal-info-item" id="modal-studyLevel"></div>
                            </li>
                            <li>
                                <div class="modal-info-item" id="modal-sector"></div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/empresa/Oferta.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- Español -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/es.js"></script>
    <script>
        $(document).ready(function () {
            $('.select2-elegante').select2({
                with: '100%',
                language: "es",
                allowClear: false,
                dropdownAutoWidth: true,
                tags: false, // Esto evita escribir libremente
            });
        });

        function execCmd(command) {
            document.execCommand(command, false, null);
            document.getElementById('editorContent').focus();
        }

        function toggleCommand(command) {
            document.execCommand(command, false, null);
            document.getElementById('editorContent').focus();
            updateButtonState();
        }

        function updateButtonState() {
            document.getElementById('boldBtn').classList.toggle('active', document.queryCommandState('bold'));
            document.getElementById('italicBtn').classList.toggle('active', document.queryCommandState('italic'));
        }

        // Detectar selección para actualizar el estado visual
        document.getElementById('editorContent').addEventListener('keyup', updateButtonState);
        document.getElementById('editorContent').addEventListener('mouseup', updateButtonState);
    </script>
    <script src="/js/idioma.js"></script>
</body>

</html>