<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Profile</title>
    <link rel="icon" type="image/png" href="../Imagenes/wknlogo2.png">
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css?h=97380e22c8933e9aa79cbc2390b9f15a">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="../Css/general/bootstrap.min.css">
    <link rel="stylesheet" href="../Css/general/styles.min.css">
    <link rel="stylesheet" href="../Css/empresa/PerfilEmpresa.css">

</head>

<body id="page-top">
    <div id="wrapper">
        <nav class="navbar align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 navbar-dark">
            <div class="container-fluid d-flex flex-column p-0">
                <a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0"
                    th:href="@{/empresas/pagina_principal}">
                    <img src="/Imagenes/wwk_white.png" width="61" height="58" style="width: 50px;height: 50px;">
                    <div class="sidebar-brand-icon rotate-n-15"></div>
                    <div class="sidebar-brand-text mx-3">
                        <span data-trad="sidebar.workwise">Workwise</span>
                    </div>
                </a>
                <span style="font-size: 15px; text-align: center; color: white;" data-trad="sidebar.soloEmpresas">Solo
                    empresas</span>
                <hr class="sidebar-divider my-0">
                <ul class="navbar-nav text-light" id="accordionSidebar">
                    <li class="nav-item">
                        <a class="nav-link active" th:href="@{/empresas/pagina_principal}">
                            <i class="fas fa-home"></i>
                            <span data-trad="sidebar.inicio">Inicio</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/perfil/empresa}">
                            <i class="far fa-user-circle"></i>
                            <span data-trad="sidebar.perfil">Perfil</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/empresas/oferta}">
                            <i class="fas fa-plus-circle"></i>
                            <span data-trad="sidebar.crearOferta">Crear oferta</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/empresas/published-offers}">
                            <i class="fas fa-check-circle"></i>
                            <span data-trad="sidebar.ofertasPublicadas">Ofertas publicadas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/Estadisticas/empresas}">
                            <i class="fas fa-chart-bar"></i>
                            <span data-trad="sidebar.estadisticas">Estadísticas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/login/personas}">
                            <i class="fas fa-user"></i>
                            <span data-trad="sidebar.quieresPostularte">¿Quieres postularte a ofertas?</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="d-flex flex-column" id="content-wrapper">
            <div id="content">
                <nav class="navbar navbar-expand bg-white shadow mb-4 topbar static-top navbar-light"
                    style="background: var(--bs-body-bg);">
                    <div class="container-fluid">
                        <ul class="navbar-nav flex-nowrap ms-auto">
                            <!-- boton idioma -->
                            <div class="language-selector d-flex align-items-center position-relative"
                                style="margin-right: 30px;">
                                <span class="me-2 fw-bold" data-trad="idioma.etiqueta">Idioma:</span>

                                <!-- Botón que muestra icono y al hacer clic despliega selector -->
                                <div id="language-display" class="d-flex align-items-center" style="cursor: pointer;">
                                    <i class="fas fa-language" id="language-toggle"></i>
                                </div>

                                <!-- Menú desplegable -->
                                <div id="language-options" class="dropdown-menu show p-2"
                                    style="display: none; position: absolute; top: 100%; left: 0; z-index: 1000;">
                                    <div class="dropdown-item d-flex align-items-center" onclick="selectLanguage('es')">
                                        <img src="https://flagcdn.com/w20/es.png" alt="ES" class="me-2"> ES
                                    </div>
                                    <div class="dropdown-item d-flex align-items-center" onclick="selectLanguage('en')">
                                        <img src="https://flagcdn.com/w20/us.png" alt="EN" class="me-2"> ENG
                                    </div>
                                </div>
                            </div>
                            <!-- fin boton idioma -->

                            <li class="nav-item dropdown no-arrow">
                                <div class="nav-item dropdown no-arrow" id="empresa-container">

                                    <img id="user-avatar" src="../Imagenes/imagenempresa.png" alt="Empresa Logo">

                                    <input type="hidden" id="subirFoto" accept="image/*"
                                        style="display: block; margin-top: 10px;">

                                    <a class="dropdown-toggle nav-link mi-link" aria-expanded="false"
                                        data-bs-toggle="dropdown" href="#">
                                        <span id="empresa" th:text="${empresa.nombreEmp}">Cuenta</span>
                                    </a>
                                    <div class="dropdown-menu shadow dropdown-menu-end animated--grow-in">
                                        <a class="dropdown-item" th:href="@{/perfil/empresa}" style="color: #0a1128;">
                                            <i class="fas fa-user fa-sm fa-fw me-2"></i>&nbsp;Perfil
                                        </a>
                                        <a class="dropdown-item" th:href="@{/empresas/published-offers}"
                                            style="color: #0a1128;">
                                            <i class="fas fa-briefcase fa-sm fa-fw me-2"></i>&nbsp;Ofertas
                                            Publicadas
                                        </a>
                                        <a class="dropdown-item" th:href="@{/Estadisticas/empresas}"
                                            style="color: #0a1128;">
                                            <i class="fas fa-chart-line fa-sm fa-fw me-2 "></i>&nbsp;Estadisticas
                                        </a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="#" id="logout" onclick="cerrarSesion(event)"
                                            style="color: #0a1128;">
                                            <i class="fas fa-sign-out-alt fa-sm fa-fw me-2"></i>Cerrar Sesión
                                        </a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="container-fluid">
                    <h3 class="text-dark mb-4" data-trad="profile.companyTitle">Perfil empresa</h3>
                    <div class="row mb-3">

                        <!-- Desde aqui cargar imagen de perfil -->
                        <div class="col-lg-4">
                            <div class="card mb-3">
                                <div class="card-body text-center shadow">
                                    <!-- Imagen de perfil -->
                                    <img id="profileImage" class="rounded-circle mb-3 mt-4" src="/empresas/photo"
                                        width="160" height="160" alt="Perfil">
                                    <div class="mb-3">
                                        <!-- Botón para cambiar la foto -->
                                        <button id="changePhotoBtn" class="btn btn-primary btn-sm"
                                            data-trad="profile.changePhotoBtn">
                                            <i class="fas fa-upload"></i> Subir foto
                                        </button>
                                        <!-- Formulario para subir la foto -->
                                        <form id="uploadForm" action="/empresas/upload/photo" method="post"
                                            enctype="multipart/form-data" style="display:none;">
                                            <input type="hidden" name="id" value="${persona.id}">
                                            <input type="file" name="file" required>
                                            <br>
                                            <button class="btn btn-primary btn-sm" type="submit"
                                                data-trad="form.submitButton">Enviar</button>
                                        </form>
                                        <br>
                                        <!-- Botón para cancelar el cambio de foto -->
                                        <button id="cancelUploadBtn" class="btn btn-secondary btn-sm"
                                            style="display:none;" data-trad="form.cancelButton">Cancelar</button>
                                    </div>
                                </div>
                            </div>

                            <!-- SECCIÓN DE ACCESOS RÁPIDOS -->
                            <div class="card mb-3 quick-access-card">
                                <div class="card-body shadow">
                                    <h5 class="card-title text-center mb-4" style="color: black;" data-trad="quickAccess.title">Accesos rápidos</h5>
                            
                                    <div class="quick-access-item">
                                        <a href="/Estadisticas/empresas" class="quick-link">
                                            <div class="quick-icon">
                                                <i class="fas fa-chart-bar"></i>
                                            </div>
                                            <div class="quick-text">
                                                <h6 data-trad="quickAccess.stats">Estadísticas</h6>
                                                <p data-trad="quickAccess.statsDesc">Ver análisis de lo que pasa en la pagina</p>
                                            </div>
                                            <div class="quick-arrow">
                                                <i class="fas fa-chevron-right"></i>
                                            </div>
                                        </a>
                                    </div>
                            
                                    <div class="quick-access-item">
                                        <a href="/empresas/published-offers" class="quick-link">
                                            <div class="quick-icon">
                                                <i class="fas fa-briefcase"></i>
                                            </div>
                                            <div class="quick-text">
                                                <h6 data-trad="quickAccess.publishedOffers">Ofertas publicadas</h6>
                                                <p data-trad="quickAccess.publishedOffersDesc">Gestiona tus ofertas laborales</p>
                                            </div>
                                            <div class="quick-arrow">
                                                <i class="fas fa-chevron-right"></i>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!-- FIN SECCIÓN ACCESOS RÁPIDOS -->
                        </div>

                        <!-- Perfil de la persona  -->
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col">
                                    <div class="card shadow mb-3">
                                        <div class="card-header py-3">
                                            <p class="m-0 fw-bold" style="color: black;" data-trad="profileCompany.personalData">Datos personales</p>
                                        </div>
                                        <div class="card-body">
                                            <form th:action="@{/actualizar/empresa}" method="post" id="updateForm">
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.email">Correo electrónico</strong></label>
                                                            <input class="form-control" type="email" name="email" th:value="${empresa.email}" disabled>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.password">Contraseña</strong></label>
                                                            <input class="form-control" type="password" name="contraseña" th:value="${empresa.contraseña}" disabled>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.nit">Nit</strong></label>
                                                            <input class="form-control" type="text" name="nit" th:value="${empresa.nit}" disabled>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.companyName">Nombre de la empresa</strong></label>
                                                            <input class="form-control" type="text" name="nombreEmp" th:value="${empresa.nombreEmp}" disabled>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.businessName">Razón social</strong></label>
                                                            <input class="form-control" type="text" name="razon_social" th:value="${empresa.razon_social}" disabled>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="mb-3">
                                                            <label class="form-label"><strong data-trad="profileCompany.address">Dirección</strong></label>
                                                            <input class="form-control" type="text" name="direccion" th:value="${empresa.direccion}" disabled>
                                                        </div>
                                                    </div>
                                                </div>
                                
                                                <div class="col">
                                                    <div class="mb-3">
                                                        <button class="btn btn-primary btn-sm" type="button" id="change_btn">
                                                            <i class="fas fa-pen"></i> <span data-trad="profileCompany.changeData">Cambiar datos</span>
                                                        </button>
                                                        <button class="btn btn-primary btn-sm" type="submit" id="save_btn" disabled>
                                                            <i class="fas fa-save"></i> <span data-trad="profileCompany.saveChanges">Guardar cambios</span>
                                                        </button>
                                                    </div>
                                                </div>
                                                <input type="hidden" name="confirmPassword" id="confirmPassword">
                                            </form>
                                            <button class="btn-eliminar" onclick="eliminarCuenta()">
                                                <i class="fas fa-trash-alt"></i> <span data-trad="profileCompany.deleteAccount">Eliminar Cuenta</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="custom-footer text-light text-center py-4 sticky-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <p class="mb-1" data-trad="footer.contact">PBX: (605) 123-4567 | Email: contacto@workwise.com</p>
                </div>
                <div class="footer-center">
                    <p class="mb-1" data-trad="footer.rights">© 2024 WorkWise. Todos los derechos reservados.</p>
                </div>
                <div class="footer-right">
                    <a href="https://www.facebook.com/profile.php?id=61558650706843" target="_blank">
                        <i class="fab fa-facebook"></i>
                    </a>

                    <a href="https://twitter.com" target="_blank">
                        <i class="fab fa-twitter"></i>
                    </a>

                    <a href="https://instagram.com" target="_blank">
                        <i class="fab fa-instagram"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    <a class="border rounded d-inline scroll-to-top" href="#page-top"><i class="fas fa-angle-up"></i></a>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/General/Grid-and-List-view-V10-script.js"></script>
    <script src="../js/General/script.min.js"></script>
    <script src="../js/General/theme.js"></script>
    <script src="../js/empresa/perfil_emp.js"></script>
    <script src="../js/idioma.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>